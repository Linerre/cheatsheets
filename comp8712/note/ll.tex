\documentclass[10pt,a4paper,landscape]{article}
\input{preamble}
\begin{document}
\pagestyle{empty}
\begin{multicols*}{3}
\section*{Predictive parsing - LL(1) and its parse table}
\begin{align*}
  E \to\;& E + T \gor T         \tag{1} \\
  T \to\;& T * F \gor F         \tag{2} \\
  F \to\;& (E) \gor \mathsf{id} \tag{3}
\end{align*}
\section*{Step 1: Eliminate left recursion (if any or skip if none)}
\begin{align*}
  E\,  & \to\; TE'                     \tag{1} \\
  E'\, & \to\; +\,TE' \gor \varepsilon \tag{2} \\
  T\,  & \to\; FT'                     \tag{3} \\
  T'\, & \to\; *\,FT' \gor \varepsilon \tag{4} \\
  F\,  & \to\; (E)    \gor \mathsf{id} \tag{5}
\end{align*}
\section*{Step 2: Remove common prefix by left refactoring}
\mb{NO} common prefix shared by any 2 productions, so skip

\section*{Step 3: Collect FIRST and FOLLOW sets}
\begin{itemize}
\item \mo{FIRST} set for each production
  \begin{align*}
    \mfn{first}(E)  &= \mfn{first}(T) = \mfn{first}(F) \\
                    &= \mfn{first}(() \cup \mfn{first}(\mathsf{id})
                      = \mset{\left(\right.,\mathsf{id}} \\
    \mfn{first}(E') &= \mfn{first}(+)\cup\mfn{first}(\varepsilon)
                      = \mset{+,\varepsilon}                  \\
    \mfn{first}(T)  &= \mfn{first}(F) = \mset{(,\mathsf{id}}  \\
    \mfn{first}(T') &= \mfn{first}(*)\cup\mfn{first}(\varepsilon)
                      = \mset{*,\varepsilon}  \\
    \mfn{first}(F)  &= \mfn{first}(()\cup\mfn{first}(\mathsf{id})
                      = \mset{(,\mathsf{id}}
  \end{align*}
\item \mo{FOLLOW} set for each production (include \$(\texttt{EOF}))
  \begin{align*}
    \mfn{follow}(E)  &= \mfn{first}()) = \mset{)} \Rightarrow \mset{), \$}     \\
    \mfn{follow}(E') &= \mfn{follow}(E) = \mset{), \$} \Rightarrow \mset{), \$}\\
    \mfn{follow}(T)  &= \mfn{first}(E')\cup\mfn{follow}(E')\cup\mfn{follow(E)} \\
                     &= \mset{+, \left.\right), \$} \\
    \mfn{follow}(T') &= \mfn{follow}(T) = \mset{+, ), \$}\\
    \mfn{follow}(F)  &= \mfn{first}(T')\cup\mfn{follow}(T)= \mset{*, +, ), \$}
    \end{align*}
  \item summary table of \mo{FIRST} and \mo{FOLLOW} sets
    \begin{center}
      \begin{tabular}{l|l|r}
        \hline
        N  & \textsf{FIRST} & \textsf{FOLLOW} \\
        \hline
        \(E\)   & \(\mset{(,\mathsf{id}}\) & \(\mset{), \$}\) \\
        \(E'\)  & \(\mset{+,\varepsilon}\) & \(\mset{), \$}\) \\
        \(T\)   & \(\mset{(,\mathsf{id}}\) & \(\mset{+, ), \$}\) \\
        \(T'\)  & \(\mset{*,\varepsilon}\) & \(\mset{+, ), \$}\) \\
        \(F\)   & \(\mset{(,\mathsf{id}}\) & \(\mset{*, +, ), \$}\) \\
        \hline
      \end{tabular}
  \end{center}
\end{itemize}


\section*{Step 4: LL(1) parse table}
\begin{enumerate}
\item For \mb{non-$\varepsilon$} productions, use \mo{\textsf{FIRST}(RHS)} to locate cols
  \begin{align*}
    \mfn{first}(RHS_{E}) &=\mfn{first}(TE')=\mfn{first}(T) = \mset{(,\mathsf{id}} \\
    \mfn{first}(RHS_{E'})&=\mfn{first}(+TE')=\mfn{first}(+) = \mset{+} \\
    \mfn{first}(RHS_{T}) &=\mfn{first}(FT')=\mfn{first}(F) = \mset{(,\mathsf{id}} \\
    \mfn{first}(RHS_{T'})&=\mfn{first}(*FT')=\mfn{first}(*) = \mset{*} \\
    \mfn{first}(RHS_{F}) &=\mfn{first}((E))= \mfn{first}(() = \mset{(} \\
    \mfn{first}(RHS_{F}) &=\mfn{first}(\mathsf{id}) = \mset{\mathsf{id}}
  \end{align*}
  \begin{tabular}{l|c|c|c|c|c|c}
  \hline
  N       & +          & id  & *          & (           & )   & \$(\texttt{EOF})\\
  \hline
  \(E\)   &            &\(\to TE'\)&& \(\to TE'\) &     & \\
  \(E'\)  &\(\to +TE'\)& &&&\\
  \(T\)   &            &\(\to FT'\)    &            &\(\to FT'\) &\\
  \(T'\)  &            &      &\(\to *FT'\)&&\\
  \(F\)   &            &\(\to \mathsf{id}\)& &\(\to (E)\)&&\\
  \hline
  \multicolumn{7}{l}{rows: non-terminals (LHS); cols: terminals; entry: RHS}\\
  \hline
  \multicolumn{7}{l}{can also use production number for each entry}\\
  \hline
  \end{tabular}
\vspace{.1em}
\item For \mb{$\boldsymbol{\varepsilon}$} productions, use \mo{\textsf{FOLLOW}(LHS)} to locate cols and put \mb{$\boldsymbol{\varepsilon}$} there
  \begin{align*}
    \mfn{follow}(LHS_{E'})&= \mset{), \$}\\
    \mfn{follow}(LHS_{T'})&= \mset{+, ), \$}
  \end{align*}
  \begin{tabular}{l|c|c|c|c|c|c}
  \hline
  N       & +          & id  & *          & (           & )   & \$(\texttt{EOF})\\
  \hline
  \(E\)   &            &\(\to TE'\)&      & \(\to TE'\) && \\
  \(E'\)  &\(\to +TE'\)&     &            &  &\(\varepsilon\) &\(\varepsilon\)\\
  \(T\)   &            &\(\to FT'\)    &                &\(\to FT'\) &\\
  \(T'\)  &\(\varepsilon\) & &\(\to *FT'\)&  &\(\varepsilon\)&\(\varepsilon\)\\
  \(F\)   &            &\(\to \mathsf{id}\)& &\(\to (E)\)&&\\
  \hline
  \multicolumn{7}{l}{rows: non-terminals (LHS); cols: terminals; entry: RHS}\\
  \hline
  \multicolumn{7}{l}{can also use production number for each entry}\\
  \hline
  \end{tabular}
\end{enumerate}
\begin{itemize}
\item If the grammar includes minus \mb{-}, it will be the same as \mb{+}
\item if the grammar includes division \mb{$\boldsymbol{\backslash}$}, it will be the same as \mb{*}
\item if the grammar includes a start symbol $S\to E\$$
  \begin{center}
  \begin{tabular}{l|l|l}
    \hline
    N      & \textsf{FIRST} & \textsf{FOLLOW} (empty) \\
    \hline
    \(S\)  & \(\mset{(,\mathsf{id}}\) & \\
    \hline
    \multicolumn{3}{l}{FIRST same as $E$, FOLLOW is empty}\\
    \hline
  \end{tabular}\\
  \begin{tabular}{l|c|c|c|c|c|c}
  \hline
  N       & +          & id  & *          & (           & )   & \$(\texttt{EOF})\\
  \hline
  \(S\)   &            &\(\to E\$\)&      & \(\to E\$\) && \\
  \hline
  \end{tabular}
  \end{center}
\end{itemize}
\end{multicols*}
\end{document}
