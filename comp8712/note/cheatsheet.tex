\documentclass[10pt,a4paper,landscape]{article}
\input{preamble}

\begin{document}
% Suppress page number for all pages
\pagestyle{empty}

% Each section goes into this env
\begin{multicols*}{3}

\section*{Object Types}
\begin{minipage}{.5\linewidth}
\begin{lstlisting}[language=c]
// inherits from 'Root'
type S = object {}
// with fields only
type Shape = object {
  name: Text;
  border: bool
// optional ; for last field
}
// access fields like java
Rect.name; Rect.area;
// obj type with supertype
type Rect = Shape object {
  width: int;
  height: int;
}
\end{lstlisting}
\end{minipage}
\begin{minipage}{.5\linewidth}
  \flushleft
  \begin{itemize}
  \item \texttt{Root} is pre-declared, traced, and with no fields
  \item \texttt{object} is like \verb|^struct{}|
  \item Object can be \texttt{null}
  \item Objects \mr{cannot} be dereferenced
  \item To copy data record of one obj into another, the fields must be assigned one by one
  \item a field/method in subtype \mb{masks} any field/method with the same name in supertype
  \item Object assignment is \mb{reference assignment}
  \end{itemize}
\end{minipage}

\begin{minipage}{\linewidth}
\begin{lstlisting}[language=c]
// object type with methods
type Rect = Shape object {
  name: Text; width, height: int;
  useless();           // equivalent to useless() = null;
  area(): int = Area; // identifer sig = proc;
  // `area' takes no args, calls `Area' and returns int
}
// method declared as proc before/after obj definition
proc Area(self: Rect): int {
  return self.width * self.height;
}
\end{lstlisting}
\end{minipage}
\begin{itemize}
\item In \mo{\texttt{= proc}}, \texttt{proc} must be a top-level procedure constant
\item If \texttt{= proc} \mo{omitted} (\texttt{useless();}), \mo{\texttt{= null}} is assigned
\item If \texttt{proc} is \mb{non-null}, its 1st param must have mode \texttt{val} and type some supertype of \texttt{T} (\texttt{Shape} in the above example)
\item For proc \texttt{Area}, dropping its 1st param (\texttt{self: Rect}) results in the exactly same sig as \texttt{area()} in the obj definition
\end{itemize}
% \item methods accept the object as \mr{1st} arg
  % \item methods can be invoked, but \mr{not} read or written
\end{multicols*}
\end{document}
